<%= form_for(@contact) do |f| %>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
      	<th valign="top">*資料填寫人</th>
              <td valign="top">
              <% @isparent.each_with_index do | isparent , index| %>
              	<label>
			         <% if index == 0 %>
				         <%= f.radio_button :isparent, isparent[1] , :class => 'radio' , :checked => true %> 
				     <% else %>
				     	<%= f.radio_button :isparent, isparent[1] , :class => 'radio' %> 
				     <% end %>
              		<%= isparent[0] %>              		
              	</label>
              <% end %>
              	</td>
      </tr>
       <tr>
	       <th valign="top">*姓名</th>
              <td valign="top">
              	<%= f.text_field :name, :class => 'form-control' , :required => true%>
              </td>
       </tr>     
        <tr>
	       <th valign="top">*出生年</th>
	       <td valign="top">
              <%= f.date_select :birthday, :start_year => Date.current.year, :end_year => Date.current.year-100,discard_day: true,discard_month: true, :class => "form-control" %>
          </td>
        </tr>

         <tr>
              <th valign="top">*聯絡電話</th>
              <td><%= f.text_field :phone, :class => 'form-control', :type=>"tel"%></td>
        </tr>
            
        <!--
<tr>
          <th valign="top">*Email</th>
          <td><%# f.text_field :email, :class => 'text' ,:required => true%></td>
        </tr>
-->
	  <tr>
                 <th valign="top">*學英文的<br>
          目的</th>
          <td valign="top">
          	 <!-- #check box 使用測試 -->
              <% @purpose.each do | purpose | %>
              	<label>
              	<%= f.check_box :purpose, { :multiple => true, :name => "contact[purpose][]" }, purpose[0], nil %> 
              		<%= purpose[1] %>
              	</label>
              <% end %>
          </td>
          <!-- <td><%= f.select :purpose , @purpose%></td> -->
        </tr>             
	  
	   <tr>
	     <th valign="top">*你最想加強<br>
          英文</th>
	      <td valign="top">
	      	 <!-- #check box 使用測試 -->
	          <% @weekness.each do | weekness | %>
	          	<label>
	          	<%= f.check_box :weekness, { :multiple => true, :name => "contact[weekness][]" }, weekness[0], nil %> 
	          		<%= weekness[1] %>
	          	</label>
	          <% end %>
	      </td>              
	      <!-- <td><%= f.select :weekness , @weekness%></td> -->
	    </tr>

	                 
            <tr>
                 <th valign="top">*目前學英文
          的瓶頸是？</th>
              <td valign="top">
	              <% @bottleneck.each do | bottleneck | %>
	              	<label>
	              	<%= f.check_box :bottleneck, { :multiple => true, :name => "contact[bottleneck][]" }, bottleneck[0], nil %> 
	              		<%= bottleneck[1] %>
	              	</label>
	              <% end %>
              </td> 
<!--               <td><%= f.select :bottleneck , @bottleneck%></td> -->
            </tr>
            
        <tr>
              <th valign="top">*方便連絡的<br>
          時間？</th>
            <td valign="top">
	              <% @availabletime.each do | availabletime | %>
	              	<label>
	              	<%= f.check_box :availabletime, { :multiple => true, :name => "contact[availabletime][]" }, availabletime[0], nil %> 
	              		<%= availabletime[1] %>
	              	</label>
	              <% end %>
            </td>
              <!-- <td><%= f.select :availabletime , @availabletime%></td> -->
            </tr>
            
              <tr>
        <th valign="top">*你是否願意<br>
          到台北上課</th>
              <td>
              <% @yesorno.each_with_index do | yesorno, index | %>
              	<label>
              	 	<% if index == 0 %>
				         <%= f.radio_button :tpclass, yesorno[1] , :class => 'radio' , :checked => true %> 
				     <% else %>
				     	<%= f.radio_button :tpclass, yesorno[1] , :class => 'radio' %> 
				     <% end %>
              		<%= yesorno[0] %>   
              	</label>
              <% end %>
              	</td>
              	
            </tr>

             <tr>
	      <th valign="top">*教育程度</th>
          <td><%= f.select :education , @education, :class=>"form-control"%></td>
        </tr>

        <tr id="majorin">
        <th valign="top">科系</th>
	      <td valign="top"><%= f.text_field :majorin, :class => 'text', :class=>"form-control" %></td>
	    </tr>
        
	    <tr>
        <th valign="top">最近的英語<br>
          學習管道</th>
	      <td valign="top"><%= f.select :learningtype , @learningtype, :class=>"form-control"%></td>
	    </tr>

	    <tr id ="period">
	        <th valign="top">時間</th>
              <td valign="top"><%= f.text_field :period, :class => 'text', :class=>"form-control" %></td>
            </tr>

         <tr  id ="institute">
	        <th valign="top">機構名稱</th>
              <td valign="top"><%= f.text_field :institute, :class => 'text', :class=>"form-control" %></td>
            </tr>

         <tr id="certification" >
        <th valign="top">是否有英語<br>
          證照</th>
              	<td valign="top">
              <% @certification.each_with_index do | certification, index | %> 
              	<label>
              	<% if index+1 == @certification.length %>
				         <%= f.radio_button :certification, certification[1] , :class => 'radio' , :checked => true %> 
				     <% else %>
				     	<%= f.radio_button :certification, certification[1] , :class => 'radio' %> 
				     <% end %>
              		<%= certification[0] %>             
              	</label>
              <% end %>
              	</td>
              <!--<td><%# f.select :certification , @certification%></td> -->
            </tr>

            <tr id="level" style="display:none;">
              <th valign="top">分數或層級</th>
	            <td><%= f.text_field :level, :class => 'text', :class=>"form-control" %></td>
            </tr>
    </table>
    <div class="text-center">
     <%= f.submit '送出', :class=> "btn btn-primary btn-lg" %>
    </div>

   
   
                       	
			
                     
       		   
                      
             <!--
             <tr>
              <th><%= f.label :certificationdetail, '證照自填' %></th>
              <td><%= f.text_field :certificationdetail, :class => 'text' %></td>
            </tr>
-->
             <!--

             <tr>
              <th><%= f.label :score, '分數' %></th>
              <td><%= f.text_field :score, :class => 'text' %></td>
            </tr>
            
-->

<% end %>
<script>
	$(document).ready(function(){
		//education	
		$("#contact_education").change(function()
		{		
			//var a = $("#contact_education option").toArray();
			var a = ["國中","國小",	"幼稚園"]
			//alert( $(this).val()+"-"+$.inArray($(this).val(), a ));
			if ( $.inArray($(this).val(), a ) == -1 )
			{	
					$("#majorin").show();
					$("#contect_majorin").focus();
			}
			else
			{
					$("#majorin").hide("slow");					
			}
		});
		//type	
		
$("#contact_learningtype").change(function()
		{		
			//var a = $("#contact_education option").toArray();
			var a = ["自學",	"個人家教"]
			
			if ( $.inArray($(this).val(), a ) == -1)
			{
				//if (!$("#period").is(":visible") || !$("#institute").is(":visible"))
				//{
					$("#period").show();
					$("#contact_period").focus();
					$("#institute").show(500);	
				//}		
			}
			else
			{
					$("#period").hide("slow");
					$("#institute").hide("slow");
			}		
		});
		//certification:radio button, change slightly
		$("#certification input[name^=contact]:radio").change(function()
		{		
			//var a = $("#contact_education option").toArray();
			var a = ["其他",""]
			
			if ( $.inArray($(this).val(), a ) == -1)
			{
					$("#level").show();
					$("#contact_level").focus();		
			}
			else
			{
					$("#level").hide("slow");
			}		
		});	
	});
 </script>

 